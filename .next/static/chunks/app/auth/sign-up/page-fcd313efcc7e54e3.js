(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[301],{1653:function(e,r,t){Promise.resolve().then(t.bind(t,5424)),Promise.resolve().then(t.t.bind(t,6779,23)),Promise.resolve().then(t.bind(t,9749)),Promise.resolve().then(t.bind(t,842)),Promise.resolve().then(t.bind(t,5987))},9749:function(e,r,t){"use strict";t.d(r,{GuestGuard:function(){return c}});var s=t(7437),n=t(2265),a=t(9376),i=t(2279),o=t(3374),l=t(458),u=t(8442);function c(e){let{children:r}=e,t=(0,a.useRouter)(),{user:c,error:m,isLoading:d}=(0,u.a)(),[h,f]=n.useState(!0),g=async()=>{if(!d){if(m){f(!1);return}if(c){l.k.debug("[GuestGuard]: User is logged in, redirecting to dashboard"),t.replace(o.H.dashboard.overview);return}f(!1)}};return(n.useEffect(()=>{g().catch(()=>{})},[c,m,d]),h)?null:m?(0,s.jsx)(i.Z,{color:"error",children:m}):(0,s.jsx)(n.Fragment,{children:r})}},842:function(e,r,t){"use strict";t.d(r,{SignUpForm:function(){return E}});var s=t(7437),n=t(2265),a=t(9376),i=t(3590),o=t(2279),l=t(6631),u=t(7008),c=t(9459),m=t(20),d=t(3024),h=t(9643),f=t(6387),g=t(9501),p=t(1229),v=t(7851),w=t(8442);let x=p.z.object({firstName:p.z.string().min(1,{message:"First name is required"}),lastName:p.z.string().min(1,{message:"Last name is required"}),email:p.z.string().min(1,{message:"Email is required"}).email(),password:p.z.string().min(6,{message:"Password should be at least 6 characters"}),terms:p.z.boolean().refine(e=>e,"You must accept the terms and conditions")}),b={firstName:"",lastName:"",email:"",password:"",terms:!1};function E(){let e=(0,a.useRouter)(),{checkSession:r}=(0,w.a)(),[t,p]=n.useState(!1),{control:E,handleSubmit:S,setError:j,formState:{errors:L}}=(0,g.cI)({defaultValues:b,resolver:(0,i.F)(x)}),R=n.useCallback(async t=>{p(!0);let{error:s}=await v.U.signUp(t);if(s){j("root",{type:"server",message:s}),p(!1);return}await (null==r?void 0:r()),e.refresh()},[r,e,j]);return(0,s.jsxs)(h.Z,{spacing:3,children:[(0,s.jsx)(h.Z,{spacing:1,children:(0,s.jsx)(f.Z,{variant:"h4",children:"Add New Student"})}),(0,s.jsx)("form",{onSubmit:S(R),children:(0,s.jsxs)(h.Z,{spacing:2,children:[(0,s.jsx)(g.Qr,{control:E,name:"firstName",render:e=>{let{field:r}=e;return(0,s.jsxs)(u.Z,{error:!!L.firstName,children:[(0,s.jsx)(m.Z,{children:"First name"}),(0,s.jsx)(d.Z,{...r,label:"First name"}),L.firstName?(0,s.jsx)(c.Z,{children:L.firstName.message}):null]})}}),(0,s.jsx)(g.Qr,{control:E,name:"lastName",render:e=>{let{field:r}=e;return(0,s.jsxs)(u.Z,{error:!!L.firstName,children:[(0,s.jsx)(m.Z,{children:"Last name"}),(0,s.jsx)(d.Z,{...r,label:"Last name"}),L.firstName?(0,s.jsx)(c.Z,{children:L.firstName.message}):null]})}}),(0,s.jsx)(g.Qr,{control:E,name:"email",render:e=>{let{field:r}=e;return(0,s.jsxs)(u.Z,{error:!!L.email,children:[(0,s.jsx)(m.Z,{children:"Email address"}),(0,s.jsx)(d.Z,{...r,label:"Email address",type:"email"}),L.email?(0,s.jsx)(c.Z,{children:L.email.message}):null]})}}),(0,s.jsx)(g.Qr,{control:E,name:"password",render:e=>{let{field:r}=e;return(0,s.jsxs)(u.Z,{error:!!L.password,children:[(0,s.jsx)(m.Z,{children:"Password"}),(0,s.jsx)(d.Z,{...r,label:"Password",type:"password"}),L.password?(0,s.jsx)(c.Z,{children:L.password.message}):null]})}}),L.root?(0,s.jsx)(o.Z,{color:"error",children:L.root.message}):null,(0,s.jsx)(l.Z,{disabled:t,type:"submit",variant:"contained",children:"Sign up"})]})})]})}},3245:function(e,r,t){"use strict";t.d(r,{r:function(){return s}});let s={admin:[{username:"admin123",firstname:"John",lastname:"Doe",email:"admin@example.com",password:"Admin@123"},{username:"admin456",firstname:"Sarah",lastname:"Connor",email:"sarah.connor@example.com",password:"Admin@456"}],prof:[{username:"prof001",firstname:"Alice",lastname:"Smith",email:"alice.smith@example.com",password:"Prof@456"},{username:"prof002",firstname:"Robert",lastname:"Johnson",email:"robert.johnson@example.com",password:"Prof@789"},{username:"prof003",firstname:"Emma",lastname:"Williams",email:"emma.williams@example.com",password:"Prof@101"}],student:[{username:"student101",firstname:"Bob",lastname:"Brown",email:"bob.brown@example.com",password:"Student@789",course:"Computer Science",address:"123 Main St, City",register_no:"CS2024101",class:"10A"},{username:"student102",firstname:"Sophia",lastname:"Taylor",email:"sophia.taylor@example.com",password:"Student@234",course:"Mechanical Engineering",address:"456 Elm St, Town",register_no:"ME2024102",class:"10B"},{username:"student103",firstname:"Liam",lastname:"Anderson",email:"liam.anderson@example.com",password:"Student@567",course:"Electrical Engineering",address:"789 Oak St, Village",register_no:"EE2024103",class:"10C"},{username:"student104",firstname:"Emily",lastname:"Davis",email:"emily.davis@example.com",password:"Student@890",course:"Civil Engineering",address:"101 Pine St, Metro",register_no:"CE2024104",class:"10D"},{username:"student105",firstname:"Noah",lastname:"Martinez",email:"noah.martinez@example.com",password:"Student@345",course:"Business Administration",address:"202 Maple St, Suburb",register_no:"BA2024105",class:"10E"}]}},5987:function(e,r,t){"use strict";t.d(r,{DynamicLogo:function(){return c},T:function(){return u}});var s=t(7437),n=t(2265),a=t(8693),i=t(7001),o=t(4178);function l(e){let{children:r,defer:t=!1,fallback:a=null}=e,[i,l]=n.useState(!1);return(0,o.Z)(()=>{t||l(!0)},[t]),n.useEffect(()=>{t&&l(!0)},[t]),(0,s.jsx)(n.Fragment,{children:i?r:a})}function u(e){let r,{color:t="dark",emblem:n,height:i=60,width:o=60}=e;return r="/assets/MHISS-logo-bg.png",(0,s.jsx)(a.Z,{alt:"logo",component:"img",height:i,src:r,width:o})}function c(e){let{colorDark:r="light",colorLight:t="dark",height:n=60,width:o=60,...c}=e,{colorScheme:m}=(0,i.tv)();return(0,s.jsx)(l,{fallback:(0,s.jsx)(a.Z,{sx:{height:"88px",width:"100%",objectFit:"contain"}}),children:(0,s.jsx)(u,{color:"dark"===m?r:t,height:n,width:o,...c})})}},846:function(e,r,t){"use strict";t.d(r,{S:function(){return o},UserProvider:function(){return l}});var s=t(7437),n=t(2265),a=t(7851),i=t(458);let o=n.createContext(void 0);function l(e){let{children:r}=e,[t,l]=n.useState({user:null,error:null,isLoading:!0}),u=n.useCallback(async()=>{try{let{data:e,error:r}=await a.U.getUser();if(r){i.k.error(r),l(e=>({...e,user:null,error:"Something went wrong",isLoading:!1}));return}l(r=>({...r,user:null!=e?e:null,error:null,isLoading:!1}))}catch(e){i.k.error(e),l(e=>({...e,user:null,error:"Something went wrong",isLoading:!1}))}},[]);return n.useEffect(()=>{u().catch(e=>{i.k.error(e)})},[]),(0,s.jsx)(o.Provider,{value:{...t,checkSession:u},children:r})}o.Consumer},8442:function(e,r,t){"use strict";t.d(r,{a:function(){return a}});var s=t(2265),n=t(846);function a(){let e=s.useContext(n.S);if(!e)throw Error("useUser must be used within a UserProvider");return e}},7851:function(e,r,t){"use strict";t.d(r,{U:function(){return o}});var s=t(3245);function n(){let e=new Uint8Array(12);return window.crypto.getRandomValues(e),Array.from(e,e=>e.toString(16).padStart(2,"0")).join("")}let a={id:"USR-000",avatar:"/assets/avatar.png",firstName:"Sofia",lastName:"Rivers",email:"sofia@devias.io"};class i{async signUp(e){let r=n();return localStorage.setItem("custom-auth-token",r),{}}async signInWithOAuth(e){return{error:"Social authentication not implemented"}}async signInWithPassword(e){let{email:r,password:t}=e;if(!Object.values(s.r).some(e=>e.some(e=>e.email===r&&e.password===t)))return{error:"Invalid credentials"};let a=n();return localStorage.setItem("custom-auth-token",a),{}}async resetPassword(e){return{error:"Password reset not implemented"}}async updatePassword(e){return{error:"Update reset not implemented"}}async getUser(){return localStorage.getItem("custom-auth-token")?{data:a}:{data:null}}async signOut(){return localStorage.removeItem("custom-auth-token"),{}}}let o=new i},458:function(e,r,t){"use strict";let s;t.d(r,{k:function(){return d}});var n,a,i,o=t(257);let l={ERROR:"ERROR",WARN:"WARN",DEBUG:"DEBUG",ALL:"ALL"},u={NONE:0,ERROR:1,WARN:2,DEBUG:3,ALL:4};class c{canWrite(e){return this.levelNumber>=u[e]}write(e){for(var r=arguments.length,t=Array(r>1?r-1:0),s=1;s<r;s++)t[s-1]=arguments[s];let n=this.prefix;this.showLevel&&(n="- ".concat(e," ").concat(n)),e===l.ERROR?console.error(n,...t):console.log(n,...t)}constructor({prefix:e="",level:r=l.ALL,showLevel:t=!0}){var s=this;this.debug=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];s.canWrite(l.DEBUG)&&s.write(l.DEBUG,...r)},this.warn=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];s.canWrite(l.WARN)&&s.write(l.WARN,...r)},this.error=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];s.canWrite(l.ERROR)&&s.write(l.ERROR,...r)},this.prefix=e,this.level=r,this.levelNumber=u[this.level],this.showLevel=t}}var m=t(257);let d=function(){let{prefix:e,level:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new c({prefix:e,level:r})}({level:{site:{name:"Devias Kit",description:"",themeColor:"red",url:s=(s=(s=null!==(a=null!==(n=o.env.NEXT_PUBLIC_SITE_URL)&&void 0!==n?n:o.env.NEXT_PUBLIC_VERCEL_URL)&&void 0!==a?a:"http://localhost:3000/").includes("http")?s:"https://".concat(s)).endsWith("/")?s:"".concat(s,"/")},logLevel:null!==(i=m.env.NEXT_PUBLIC_LOG_LEVEL)&&void 0!==i?i:l.ALL}.logLevel})},3374:function(e,r,t){"use strict";t.d(r,{H:function(){return s}});let s={home:"/",auth:{signIn:"/auth/sign-in",signUp:"/auth/sign-up",resetPassword:"/auth/reset-password"},dashboard:{overview:"/dashboard",account:"/dashboard/account",customers:"/dashboard/customers"},errors:{notFound:"/errors/not-found"}}}},function(e){e.O(0,[102,224,76,536,161,921,112,831,279,989,971,117,744],function(){return e(e.s=1653)}),_N_E=e.O()}]);